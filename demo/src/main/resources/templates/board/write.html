<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <title>게시글 작성</title>
</head>

<div layout:fragment="content">
    <div class="card">
        <div class="card-header bg-white py-3">
            <h4 class="mb-0">
                <i class="bi bi-pencil-square"></i> 게시글 작성
            </h4>
        </div>

        <div class="card-body">
            <form th:action="@{/board/write}" th:object="${boardRequest}" method="post">

                <!-- 전체 에러 메시지 -->
                <div th:if="${#fields.hasGlobalErrors()}"
                     class="alert alert-danger" role="alert">
                    <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">에러</p>
                </div>

                <!-- 제목 -->
                <div class="mb-3">
                    <label for="title" class="form-label">
                        제목 <span class="text-danger">*</span>
                    </label>
                    <input type="text"
                           class="form-control"
                           th:classappend="${#fields.hasErrors('title')} ? 'is-invalid'"
                           id="title"
                           th:field="*{title}"
                           placeholder="제목을 입력하세요">
                    <div class="invalid-feedback" th:if="${#fields.hasErrors('title')}"
                         th:errors="*{title}"></div>
                </div>

                <!-- 내용 -->
                <div class="mb-4">
                    <label for="content" class="form-label">
                        내용 <span class="text-danger">*</span>
                    </label>
                    <textarea class="form-control"
                              th:classappend="${#fields.hasErrors('content')} ? 'is-invalid'"
                              id="content"
                              th:field="*{content}"
                              rows="15"
                              placeholder="내용을 입력하세요"></textarea>
                    <div class="invalid-feedback" th:if="${#fields.hasErrors('content')}"
                         th:errors="*{content}"></div>
                </div>

                <!-- 버튼 -->
                <div class="d-flex justify-content-between">
                    <a href="/board/list" class="btn btn-secondary">
                        <i class="bi bi-x-circle"></i> 취소
                    </a>
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-check-circle"></i> 등록
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
</html>